<!DOCTYPE html>
<html lang="kor">
  <head>
    <meta charset="utf-8" />
    <title>MBTI</title>
    <style>
      .선택한옵션들 {
        display: flex;
        justify-content: center;
        margin-top: 10px;
      }

      .선택한옵션 {
        border: 2px solid black;
        border-radius: 5px;
        cursor: pointer;
        margin: 0 10px;
        padding: 10px 20px;
      }

      .선택한옵션:hover {
        background-color: #bbb8b8;
        color: rgb(234, 237, 240);
      }

      h1,
      p {
        text-align: center;
      }
    </style>
    <!-- 태그 여러개에 한꺼번에 적용하려면,
         태그, 태그 { } 형식으로 태그와 태그 사이에 , 를 작성해 주어야 한다.-->
    <!-- head 태그 내부에 있는 style 태그 내부에는 주석을 달 수 없다.-->
  </head>
  <body>
    <h1>성격 유형 테스트</h1>
    <div class="문제">
      <p>각 질문에 대하여 답변을 솔직하게 선택하세요.</p>
      <div id="문제1">
        <p>1. 새로운 사람들과 만날 때 어떻게 반응하나요?</p>
        <div class="선택한옵션들">
          <div class="선택한옵션" onclick="옵션선택('E')">
            활발하게 접근한다.
          </div>
          <div class="선택한옵션" onclick="옵션선택('I')">
            조용하게 관찰한다.
          </div>
        </div>
      </div>

      <div id="문제2" style="display: none">
        <p>2. 주어진 일에 대하여 어떤 모습을 보이나요?</p>
        <div class="선택한옵션들">
          <div class="선택한옵션" onclick="옵션선택('S')">
            실제적이고 현실적이다.
          </div>
          <div class="선택한옵션" onclick="옵션선택('N')">
            감정적이고 친화적이다.
          </div>
        </div>
      </div>

      <div id="문제3" style="display: none">
        <p>3. 변화에 대처할 때 어떻게 행동하나요?</p>
        <div class="선택한옵션들">
          <div class="선택한옵션" onclick="옵션선택('T')">
            논리적이고 분석적이다.
          </div>
          <div class="선택한옵션" onclick="옵션선택('F')">
            감정적이고 비전을 갖는다.
          </div>
        </div>
      </div>

      <div id="문제4" style="display: none">
        <p>4. 계획을 세울 때 주로 어떤 방식을 사용하나요?</p>
        <div class="선택한옵션들">
          <div class="선택한옵션" onclick="옵션선택('J')">
            계획을 세우고 준비한다.
          </div>
          <div class="선택한옵션" onclick="옵션선택('P')">
            융통성있게 대처한다.
          </div>
        </div>
      </div>

      <div id="문제5" style="display: none">
        <p>5. 스트레스 상황에서 보통 어떤 행동을 하나요?</p>
        <div class="선택한옵션들">
          <div class="선택한옵션" onclick="옵션선택('E')">
            사람들과 소통한다.
          </div>
          <div class="선택한옵션" onclick="옵션선택('I')">
            혼자서 시간을 보낸다.
          </div>
        </div>
      </div>

      <div id="문제6" style="display: none">
        <p>6. 새로운 환경에서 어떻게 적응하나요?</p>
        <div class="선택한옵션들">
          <div class="선택한옵션" onclick="옵션선택('E')">
            적극적으로 새로운 사람들과 교류한다.
          </div>
          <div class="선택한옵션" onclick="옵션선택('I')">
            혼자서 천천히 적응한다.
          </div>
        </div>
      </div>

      <div id="문제7" style="display: none">
        <p>7. 의사 결정을 할 때 어떤 방식을 선호하나요?</p>
        <div class="선택한옵션들">
          <div class="선택한옵션" onclick="옵션선택('F')">
            감정과 사람들을 고려하여 결정한다.
          </div>
          <div class="선택한옵션" onclick="옵션선택('T')">
            논리와 이성을 기반으로 결정한다.
          </div>
        </div>
      </div>

      <div id="문제8" style="display: none">
        <p>8. 일정을 계획할 때 어떤 방식을 사용하나요?</p>
        <div class="선택한옵션들">
          <div class="선택한옵션" onclick="옵션선택('P')">
            상황에 따라 유연하게 대처한다.
          </div>
          <div class="선택한옵션" onclick="옵션선택('J')">
            철저하게 계획하고 일정에 맞춘다.
          </div>
        </div>
      </div>

      <div id="결과확인"></div>

      <script>
        // const 와 let 중, 변수와 같이 안에 있는 값을 변경할 수 있는 let 사용
        let 정답 = {};

        //        자바에서는 public void 메서드명(자료형 매개변수) { } 형식
        // 자바스크립트에서는      function 기능명(숫자면 매개변수만, 숫자가 아니라면 " " 또는 ' ' 붙여서) { } 형식
        // 옵션 선택 기능 만들기
        function 옵션선택(선택한옵션) {
          // 각 질문에 대한 답을 저장하기
          let 현재질문 = Object.keys(정답).length + 1; // 사용자가 현재까지 대답한 질문의 수를 나타낸 것
          정답["문제" + 현재질문] = 선택한옵션; // 정답이라는 배열에, 내가 선택한 문제와 문제에 대한 옵션을 저장해 준 것
          //  ['문제1' : 'E']

          // 다음 질문 보여주기
          let 다음질문 = 현재질문 + 1;

          let 현재질문div = document.getElementById("문제" + 현재질문);
          let 다음질문div = document.getElementById("문제" + 다음질문);

          // 만약, 다음 질문으로 넘어갔다면, 현재 질문은 숨기고 다음 질문만 보여주기
          if (다음질문div) {
            현재질문div.style.display = "none"; // 현재 질문 숨기기
            다음질문div.style.display = "block"; // 다음 질문 보여주기
          } else {
            결과확인하기();
          }
        }

        function 결과확인하기() {
          let 결과확인 = "당신의 성격 유형은: ";
          let MBTI갯수확인 = { E: 0, N: 0, F: 0, P: 0, I: 0, S: 0, T: 0, J: 0 };
          // 영어와 숫자에는 " " 또는 ' ' 를 쓰지 않아도 된다.

          // 문제에 대하여 체크한 옵션들을 더해줄 것
          // 첫번째 반복

          // 문제 = 문제1
          // 정답[문제] = 정답[문제1] = E 인지, 정답[문제1] = I 인지
          // let MBTI갯수확인 = {E:0, 'N':0, F:0, 'P':0, I:0, 'S':0, T:0, 'J':0};

          // 문제 = 문제2
          // 정답[문제] = 정답[문제2] = N 인지, 정답[문제2] = S 인지
          // let MBTI갯수확인 = {E:0, 'N':0, F:0, 'P':0, I:0, 'S':0, T:0, 'J':0};

          // 문제 = 문제3
          // 정답[문제] = 정답[문제3] = F 인지, 정답[문제2] = T 인지
          // let MBTI갯수확인 = {E:0, 'N':0, F:0, 'P':0, I:0, 'S':0, T:0, 'J':0};

          // 문제 = 문제4
          // 정답[문제] = 정답[문제4] = P 인지, 정답[문제4] = J 인지
          // let MBTI갯수확인 = {E:0, 'N':0, F:0, 'P':0, I:0, 'S':0, T:0, 'J':0};
          for (let 문제 in 정답) {
            // 반복적인 작업을 수행하는 for 문
            // {'문제1' : 'E'}
            // console.log("문제: " + 문제);
            // console.log("정답들: " + 정답);
            MBTI갯수확인[정답[문제]]++;
            console.log(
              "MBTI갯수확인: " + [정답[문제]] + MBTI갯수확인[정답[문제]]
            );
          }

          // MBTI 결과 계산
          // 만약, E 와 I 중, E 가 I 보다 많다면
          if (MBTI갯수확인["E"] > MBTI갯수확인["I"]) {
            결과확인 += "E";
          } else {
            결과확인 += "I";
          }

          // 만약, N 과 S 중, N 이 S 보다 많다면
          if (MBTI갯수확인["N"] > MBTI갯수확인["S"]) {
            결과확인 += "N";
          } else {
            결과확인 += "S";
          }

          // 만약, F 와 T 중, F 가 T 보다 많다면
          if (MBTI갯수확인["F"] > MBTI갯수확인["T"]) {
            결과확인 += "F";
          } else {
            결과확인 += "T";
          }

          // 만약, P 와 J 중, P 가 J 보다 많다면
          if (MBTI갯수확인["P"] > MBTI갯수확인["J"]) {
            결과확인 += "P";
          } else {
            결과확인 += "J";
          }

          document.getElementById("결과확인").innerText = 결과확인;
          document.getElementById("결과확인").style.display = "block";
        }
      </script>
    </div>
  </body>
</html>
